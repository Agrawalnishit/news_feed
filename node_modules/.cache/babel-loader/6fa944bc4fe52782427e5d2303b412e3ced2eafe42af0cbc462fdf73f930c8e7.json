{"ast":null,"code":"import React,{useState,useEffect}from'react';import NewsCard from'./NewsCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const StockNews=_ref=>{let{apiKey}=_ref;const[news,setNews]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const stockSources={'bloomberg.com':'Bloomberg','ft.com':'Financial Times','wsj.com':'Wall Street Journal','reuters.com':'Reuters','marketwatch.com':'MarketWatch','businessinsider.com':'Business Insider'};// Fetch stock market news from selected sources\nuseEffect(()=>{const fetchStockNews=async()=>{setLoading(true);setError(null);try{const params=new URLSearchParams({apiKey:apiKey,q:'(stock OR market OR trading OR investment OR stocks OR shares OR finance)',domains:Object.keys(stockSources).join(','),sortBy:'publishedAt',pageSize:'9',language:'en'});const response=await fetch(\"https://newsapi.org/v2/everything?\".concat(params));const data=await response.json();if(data.status==='error'){if(data.code==='rateLimited'){throw new Error('API rate limit exceeded. Please try again later.');}else if(data.code==='apiKeyInvalid'){throw new Error('Invalid API key. Please check your configuration.');}else if(data.code==='apiKeyMissing'){throw new Error('API key is missing. Please check your configuration.');}else{throw new Error(data.message||'Failed to fetch stock news');}}if(data.status==='ok'&&Array.isArray(data.articles)){setNews(data.articles);}else{throw new Error('Invalid response format from news API');}}catch(err){console.error('Stock News API Error:',err);setError(err.message||'Something went wrong. Please try again later.');setNews([]);}finally{setLoading(false);}};fetchStockNews();},[apiKey]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"animate-pulse grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:[...Array(6)].map((_,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-48 bg-gray-200 dark:bg-gray-700 rounded mb-4\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"})]},index))});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 dark:bg-red-900 rounded-lg p-4\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 dark:text-red-200\",children:error})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 dark:text-gray-100\",children:\"Market & Financial News\"}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:news.map((article,index)=>/*#__PURE__*/_jsx(NewsCard,{article:article},\"\".concat(article.url,\"-\").concat(index)))})]});};export default StockNews;","map":{"version":3,"names":["React","useState","useEffect","NewsCard","jsx","_jsx","jsxs","_jsxs","StockNews","_ref","apiKey","news","setNews","loading","setLoading","error","setError","stockSources","fetchStockNews","params","URLSearchParams","q","domains","Object","keys","join","sortBy","pageSize","language","response","fetch","concat","data","json","status","code","Error","message","Array","isArray","articles","err","console","className","children","map","_","index","article","url"],"sources":["D:/Intern_assignment/news-feed-app/src/components/StockNews.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport NewsCard from './NewsCard';\r\n\r\nconst StockNews = ({ apiKey }) => {\r\n  const [news, setNews] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  \r\n  const stockSources = {\r\n    'bloomberg.com': 'Bloomberg',\r\n    'ft.com': 'Financial Times',\r\n    'wsj.com': 'Wall Street Journal',\r\n    'reuters.com': 'Reuters',\r\n    'marketwatch.com': 'MarketWatch',\r\n    'businessinsider.com': 'Business Insider'\r\n  };\r\n\r\n  // Fetch stock market news from selected sources\r\n  useEffect(() => {\r\n    const fetchStockNews = async () => {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      try {\r\n        const params = new URLSearchParams({\r\n          apiKey: apiKey,\r\n          q: '(stock OR market OR trading OR investment OR stocks OR shares OR finance)',\r\n          domains: Object.keys(stockSources).join(','),\r\n          sortBy: 'publishedAt',\r\n          pageSize: '9',\r\n          language: 'en'\r\n        });\r\n\r\n        const response = await fetch(`https://newsapi.org/v2/everything?${params}`);\r\n        const data = await response.json();\r\n\r\n        if (data.status === 'error') {\r\n          if (data.code === 'rateLimited') {\r\n            throw new Error('API rate limit exceeded. Please try again later.');\r\n          } else if (data.code === 'apiKeyInvalid') {\r\n            throw new Error('Invalid API key. Please check your configuration.');\r\n          } else if (data.code === 'apiKeyMissing') {\r\n            throw new Error('API key is missing. Please check your configuration.');\r\n          } else {\r\n            throw new Error(data.message || 'Failed to fetch stock news');\r\n          }\r\n        }\r\n\r\n        if (data.status === 'ok' && Array.isArray(data.articles)) {\r\n          setNews(data.articles);\r\n        } else {\r\n          throw new Error('Invalid response format from news API');\r\n        }\r\n      } catch (err) {\r\n        console.error('Stock News API Error:', err);\r\n        setError(err.message || 'Something went wrong. Please try again later.');\r\n        setNews([]);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchStockNews();\r\n  }, [apiKey]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"animate-pulse grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {[...Array(6)].map((_, index) => (\r\n          <div key={index} className=\"bg-white dark:bg-gray-800 rounded-lg shadow-md p-4\">\r\n            <div className=\"h-48 bg-gray-200 dark:bg-gray-700 rounded mb-4\"></div>\r\n            <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mb-2\"></div>\r\n            <div className=\"h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2\"></div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"bg-red-50 dark:bg-red-900 rounded-lg p-4\">\r\n        <p className=\"text-red-600 dark:text-red-200\">{error}</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <h2 className=\"text-2xl font-bold text-gray-900 dark:text-gray-100\">\r\n        Market & Financial News\r\n      </h2>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {news.map((article, index) => (\r\n          <NewsCard\r\n            key={`${article.url}-${index}`}\r\n            article={article}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default StockNews;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}