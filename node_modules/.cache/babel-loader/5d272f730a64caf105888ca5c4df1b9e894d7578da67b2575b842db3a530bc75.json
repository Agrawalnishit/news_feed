{"ast":null,"code":"import _objectSpread from\"D:/Intern_assignment/news-feed-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// Error types\nexport const ErrorTypes={API:'API_ERROR',NETWORK:'NETWORK_ERROR',AUTH:'AUTH_ERROR',VALIDATION:'VALIDATION_ERROR',UNKNOWN:'UNKNOWN_ERROR'};// Error messages\nexport const ErrorMessages={[ErrorTypes.API]:'An error occurred while fetching data. Please try again later.',[ErrorTypes.NETWORK]:'Please check your internet connection and try again.',[ErrorTypes.AUTH]:'Authentication failed. Please check your API key.',[ErrorTypes.VALIDATION]:'Invalid data received. Please try again.',[ErrorTypes.UNKNOWN]:'An unexpected error occurred. Please try again later.'};// Error handler function\nexport const handleError=error=>{console.error('Error occurred:',error);if(error.message.includes('api key')){return{type:ErrorTypes.AUTH,message:ErrorMessages[ErrorTypes.AUTH]};}if(error.message.includes('network')||error.message.includes('fetch')){return{type:ErrorTypes.NETWORK,message:ErrorMessages[ErrorTypes.NETWORK]};}if(error.message.includes('invalid')||error.message.includes('required')){return{type:ErrorTypes.VALIDATION,message:ErrorMessages[ErrorTypes.VALIDATION]};}return{type:ErrorTypes.UNKNOWN,message:ErrorMessages[ErrorTypes.UNKNOWN]};};// Validation utility\nexport const validateArticle=article=>{const required=['title','description','url'];const missing=required.filter(field=>!article[field]);if(missing.length>0){throw new Error(\"Invalid article data. Missing required fields: \".concat(missing.join(', ')));}return _objectSpread(_objectSpread({},article),{},{title:article.title||'Untitled',description:article.description||'No description available',urlToImage:article.urlToImage||null,publishedAt:article.publishedAt||new Date().toISOString(),source:article.source||{name:'Unknown Source'}});};// API response validator\nexport const validateAPIResponse=data=>{if(!data){throw new Error('Empty response received');}if(data.status==='error'){throw new Error(data.message||'API returned an error');}if(!Array.isArray(data.articles)){throw new Error('Invalid articles data received');}return{articles:data.articles.map(validateArticle),totalResults:data.totalResults||data.articles.length};};// Rate limiting utility\nexport const rateLimiter=(()=>{const requests=new Map();const maxRequests=10;const timeWindow=5000;// 5 seconds\nreturn{checkLimit:key=>{const now=Date.now();const windowStart=now-timeWindow;const requestTimes=requests.get(key)||[];const recentRequests=requestTimes.filter(time=>time>windowStart);if(recentRequests.length>=maxRequests){return false;}recentRequests.push(now);requests.set(key,recentRequests);return true;}};})();","map":{"version":3,"names":["ErrorTypes","API","NETWORK","AUTH","VALIDATION","UNKNOWN","ErrorMessages","handleError","error","console","message","includes","type","validateArticle","article","required","missing","filter","field","length","Error","concat","join","_objectSpread","title","description","urlToImage","publishedAt","Date","toISOString","source","name","validateAPIResponse","data","status","Array","isArray","articles","map","totalResults","rateLimiter","requests","Map","maxRequests","timeWindow","checkLimit","key","now","windowStart","requestTimes","get","recentRequests","time","push","set"],"sources":["D:/Intern_assignment/news-feed-app/src/utils/errorUtils.js"],"sourcesContent":["// Error types\r\nexport const ErrorTypes = {\r\n  API: 'API_ERROR',\r\n  NETWORK: 'NETWORK_ERROR',\r\n  AUTH: 'AUTH_ERROR',\r\n  VALIDATION: 'VALIDATION_ERROR',\r\n  UNKNOWN: 'UNKNOWN_ERROR'\r\n};\r\n\r\n// Error messages\r\nexport const ErrorMessages = {\r\n  [ErrorTypes.API]: 'An error occurred while fetching data. Please try again later.',\r\n  [ErrorTypes.NETWORK]: 'Please check your internet connection and try again.',\r\n  [ErrorTypes.AUTH]: 'Authentication failed. Please check your API key.',\r\n  [ErrorTypes.VALIDATION]: 'Invalid data received. Please try again.',\r\n  [ErrorTypes.UNKNOWN]: 'An unexpected error occurred. Please try again later.'\r\n};\r\n\r\n// Error handler function\r\nexport const handleError = (error) => {\r\n  console.error('Error occurred:', error);\r\n\r\n  if (error.message.includes('api key')) {\r\n    return {\r\n      type: ErrorTypes.AUTH,\r\n      message: ErrorMessages[ErrorTypes.AUTH]\r\n    };\r\n  }\r\n\r\n  if (error.message.includes('network') || error.message.includes('fetch')) {\r\n    return {\r\n      type: ErrorTypes.NETWORK,\r\n      message: ErrorMessages[ErrorTypes.NETWORK]\r\n    };\r\n  }\r\n\r\n  if (error.message.includes('invalid') || error.message.includes('required')) {\r\n    return {\r\n      type: ErrorTypes.VALIDATION,\r\n      message: ErrorMessages[ErrorTypes.VALIDATION]\r\n    };\r\n  }\r\n\r\n  return {\r\n    type: ErrorTypes.UNKNOWN,\r\n    message: ErrorMessages[ErrorTypes.UNKNOWN]\r\n  };\r\n};\r\n\r\n// Validation utility\r\nexport const validateArticle = (article) => {\r\n  const required = ['title', 'description', 'url'];\r\n  const missing = required.filter(field => !article[field]);\r\n  \r\n  if (missing.length > 0) {\r\n    throw new Error(`Invalid article data. Missing required fields: ${missing.join(', ')}`);\r\n  }\r\n  \r\n  return {\r\n    ...article,\r\n    title: article.title || 'Untitled',\r\n    description: article.description || 'No description available',\r\n    urlToImage: article.urlToImage || null,\r\n    publishedAt: article.publishedAt || new Date().toISOString(),\r\n    source: article.source || { name: 'Unknown Source' }\r\n  };\r\n};\r\n\r\n// API response validator\r\nexport const validateAPIResponse = (data) => {\r\n  if (!data) {\r\n    throw new Error('Empty response received');\r\n  }\r\n\r\n  if (data.status === 'error') {\r\n    throw new Error(data.message || 'API returned an error');\r\n  }\r\n\r\n  if (!Array.isArray(data.articles)) {\r\n    throw new Error('Invalid articles data received');\r\n  }\r\n\r\n  return {\r\n    articles: data.articles.map(validateArticle),\r\n    totalResults: data.totalResults || data.articles.length\r\n  };\r\n};\r\n\r\n// Rate limiting utility\r\nexport const rateLimiter = (() => {\r\n  const requests = new Map();\r\n  const maxRequests = 10;\r\n  const timeWindow = 5000; // 5 seconds\r\n\r\n  return {\r\n    checkLimit: (key) => {\r\n      const now = Date.now();\r\n      const windowStart = now - timeWindow;\r\n      const requestTimes = requests.get(key) || [];\r\n      const recentRequests = requestTimes.filter(time => time > windowStart);\r\n\r\n      if (recentRequests.length >= maxRequests) {\r\n        return false;\r\n      }\r\n\r\n      recentRequests.push(now);\r\n      requests.set(key, recentRequests);\r\n      return true;\r\n    }\r\n  };\r\n})();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}